<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://surprise3465.github.io/myblog/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://surprise3465.github.io/myblog/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://surprise3465.github.io/myblog/css/github.min.css' />
    <link rel="stylesheet" href='https://surprise3465.github.io/myblog/css/github-style.css' />
    <link rel="stylesheet" href='https://surprise3465.github.io/myblog/css/light.css' />
    <link rel="stylesheet" href='https://surprise3465.github.io/myblog/css/dark.css' />
    <link rel="stylesheet" href='https://surprise3465.github.io/myblog/css/syntax.css' />
    <title>前事不忘，后事之师 - 孙建的个人博客</title>
    
    <link rel="icon" type="image/x-icon" href='/images/github.png'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="踏坑总结" />
<meta name="keywords"
  content=', ' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://surprise3465.github.io/myblog/post/20220812/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="前事不忘，后事之师 - 孙建的个人博客" />
<meta name="twitter:description"
  content="踏坑总结" />
<meta name="twitter:site" content="https://surprise3465.github.io/myblog/" />
<meta name="twitter:creator" content="孙建" />
<meta name="twitter:image"
  content="https://surprise3465.github.io/myblog/">


<meta property="og:type" content="article" />
<meta property="og:title" content="前事不忘，后事之师 - 孙建的个人博客">
<meta property="og:description"
  content="踏坑总结" />
<meta property="og:url" content="https://surprise3465.github.io/myblog/post/20220812/" />
<meta property="og:site_name" content="前事不忘，后事之师" />
<meta property="og:image"
  content="https://surprise3465.github.io/myblog/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2022-08-12 19:19:02 &#43;0800 CST" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://surprise3465.github.io/myblog/">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://surprise3465.github.io/myblog/">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://surprise3465.github.io/myblog/">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://surprise3465.github.io/myblog/">
                  <img class=" avatar-user"
                    src="https://surprise3465.github.io/myblog/images/avatar.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://surprise3465.github.io/myblog/">孙建</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://surprise3465.github.io/myblog/post/20220812/">前事不忘，后事之师</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Fri, 12 Aug 2022 19:19:02 &#43;0800"
                    class="no-wrap">
                    Fri, 12 Aug 2022 19:19:02 &#43;0800</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Thu, 13 Oct 2022 16:28:56 &#43;0800"
                    class="no-wrap">
                    Thu, 13 Oct 2022 16:28:56 &#43;0800</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      1071 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><h2 id="前事不忘后事之师">前事不忘，后事之师</h2>
<p>  今天客户端程序突然搜不到设备了，看了一眼Log，Arp返回错误，下意识的去改网关，然后好使了。其实自己不懂网络，也说不清是怎么突然想到的。</p>
<p>  之前还有两个别人的问题，一个是C++程序收数据异常崩溃，怎么打Log都定位不到问题，第一时间猜内存对象存储了过大的数据崩掉了，果然如此。</p>
<p>  还有某一天在客户电脑上，我们写的Wifi控制模块突然不管用了。在查代码, 查日志之前, 我又下意识搜索了一下Win10系统更新日志，果然在没什么人访问的官网上，有人反映了最近一次更新后Wifi热点模块失效，Windows工程师随后给了解决方案，这次又节约了排查时间了。</p>
<p>  看似解决问题快，其实还是被坑多了的后遗症。</p>
<p>  在老东家那时候，动不动就有人找我说&quot;孙工啊，工具又不好使了&quot;。然后发现至少50%的问题都是Ip填错了，掩码填错了，网关填错了。</p>
<p>  这时候想起自己曾经深恶痛绝的日式繁琐文档的可贵之处了，它不会告诉你网关设成192.168.1.1，而是告诉你点这个按钮，会出现什么界面，再点这个按钮，会出现什么界面。看到这个第三个框没，填成跟文档一样的数。</p>
<p>  年轻的时候我非常自负，有写这文档的功夫能写多少代码了，随后的岁月打了我的脸。比如今天，由于之前配置客户端没留文档，我们把上一台电脑的坑又踩了一遍，浪费的时间足以写一个迷你的go服务器了。</p>
<p>  还有内存暴涨问题，我职业生涯的第一站就是去东软汽电写一个数据转发程序，然后每次联调的时候都崩在我这里，简直颜面扫地，我打遍Log也查不出来。还是我导师告诉我，你那个低效的生产消费模型，每次收15M数据发10M，慢慢的你的缓存队列就暴涨了，然后在惊动了系统的情况下悄无声息的就被kill了，由于联调阶段大部分都是对接Bug，所以年轻的你是不会想到这里的。最后用一手共享内存加固定缓冲解决问题，令我佩服的惊为天人。当年导师每次发工资就去买奶粉，现在我也到了这个年纪了，开始给别人讲蓄水池问题了，真是岁月不饶人。</p>
<p>  最后那个问题，在海天，突然在现场的某台电脑上，文件下载不好使了。后来发现这个小伙用的是Win10，还开启自动更新，这在Xp和Win7横行的铁路系统十分难得。在浪费了大量时间排查代码之后，我们才发现是Win10的某次更新把默认开启的Samba服务改为默认关了。</p>
<p>  数年后我告诉同事们先查Win10更新记录时大家都莫名其妙，只有我想起了那个曾经被坑的不堪回首的一周。</p>
<p>  有时候我就在想，看似年轻员工比老员工更能加班，但是有经验的老员工会尽量不让自己落入不得不加班的境地，无论靠经验丰富，代码娴熟，或者单纯跑的快。</p>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <script src="https://utteranc.es/client.js"
  repo="surprise3465/myblog"
  issue-term="title"
  theme="github-light"
  crossorigin="anonymous"
  async>
  </script>
  
</div>
<script type="application/javascript" src='https://surprise3465.github.io/myblog/js/toc.js'></script>
<link rel="stylesheet" href='https://surprise3465.github.io/myblog/css/toc.css' />


  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://surprise3465.github.io/myblog/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://surprise3465.github.io/myblog/js/github-style.js"></script>




</html>